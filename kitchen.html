
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitchen</title>

	<!-- jquery local link replaced with CDN -->
	
	<!--script type="text/javascript" src="js/jquery-1.10.2.min.js"></script-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
	
	<!-- This page doesn't work with local boostrap Javascript. replacing it with CDN -->
	
	<!--script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script-->  
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/local.css" />
    <link href="assets/css/style.css" rel="stylesheet" />
	<script src="assets/js/script.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.0.0/moment.min.js"></script>
	<link href="bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet">
	<script src="bootstrap-switch/js/bootstrap-switch.min.js"></script>
		
      <style>
		textarea{
			color:black;
		}
		.progress{
			background:#fff;
		}
        .padBottom {
            padding-bottom:20px;
        }
		label{
			color:white;
		}

		.demo{
			margin-bottom: -10px;
			padding-bottom: 10px;
			//background-color:#efefef;
		}
		#equalheight {
			overflow: hidden; 
		}
    </style>
</head>
<body>

    <div id="wrapper">
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Back to Home</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav side-nav">
					<li><a href="homePage.html"><i class="fa fa-home fa-lg"></i> Home</a></li>
                    <li><a href="index.html"><i class="fa fa-tachometer fa-lg"></i> Dashboard</a></li>
                    <li><a href="alarm.html"><i class="fa fa-tasks fa-lg"></i> Alarm Clock</a></li>
					<li><a href="bedRoom.html"><i class="fa fa-bed fa-lg"></i> Bed Room</a></li>
					<li class="selected"><a href="kitchen.html"><i class="fa fa-cutlery fa-lg"></i> Kitchen</a></li>
					<li><a href="livingRoom.html"><i class="fa fa-gamepad fa-lg"></i> Living Room</a></li>
					<li><a href="exitDoor.html"><i class="fa fa-tasks fa-lg"></i> Exit Door</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right navbar-user">
                     <li class="dropdown user-dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> Steve Miller<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#"><i class="fa fa-user"></i> Profile</a></li>
                            <li><a href="#"><i class="fa fa-gear"></i> Settings</a></li>
                            <li class="divider"></li>
                            <li><a href="#"><i class="fa fa-power-off"></i> Log Out</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>

       <div id="page-wrapper">
		<!-- Adding Priyanka's code -->
		
		<h2 style="text-align:center;">Kitchen</h2>
		<ul class="pager">
			<li class="previous"><a href="bedRoom.html">Previous</a></li>
			<li class="next"><a href="livingRoom.html">Next</a></li>
		</ul>	
		<div class="row">
                <div class="col-md-6">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-bar-chart-o"></i>Coffee Machine</h3>
                        </div>
                        <div class="panel-body">
								<div class="form-group">
									<img src="assets/img/coffee.png" width="200" height="150"></img>
								</div>
								<div class="form-group">
										<label for="company" class="col-sm-6 control-label">Power:</label>
										<div class="col-sm-6">
										<input type="checkbox" name="my-checkbox" class="machine" id="coffee" data-off-color="danger" data-on-color="success" disabled />
										</div>
								</div>
								<div class="form-group">
										<label for="company" class="col-sm-6 control-label">Water Level:</label>
										<div class="col-sm-6">
										<label for="company" class="col-sm-6 control-label">TBD</label>
										</div>
								</div>
								<div class="form-group">
										<label for="company" class="col-sm-6 control-label">Powder Level:</label>
										<div class="col-sm-6">
										<label for="company" class="col-sm-6 control-label">TBD</label>
										</div>
								</div>
								<div class="form-group">
										<label for="company" class="col-sm-6 control-label">Filter Status:</label>
										<div class="col-sm-6">
										<label for="company" class="col-sm-6 control-label">TBD</label>
										</div>
								</div>
                        </div><!-- body-->
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title">Toaster</h3>
                        </div>
                        <div class="panel-body">
							<div class="form-group">
								<img src="assets/img/toaster.png" width="200" height="150"></img>
							</div>
							<div class="form-group">
									<label for="state" class="col-sm-6 control-label">Power:</label>
									<div class="col-sm-6">
									<input type="checkbox" name="my-checkbox" class="machine" id="toaster" data-off-color="danger" data-on-color="success" disabled />
									</div>
							</div>
							<div class="form-group">
									<label for="company" class="col-sm-6 control-label">Timer set:</label>
									<div class="col-sm-6">
									<label for="company" class="col-sm-6 control-label">TBD</label>
									</div>
							</div>
							<div class="form-group">
									<label for="company" class="col-sm-6 control-label">Bread:</label>
									<div class="col-sm-6">
									<label for="company" class="col-sm-6 control-label">TBD</label>
									</div>
							</div>
                        </div><!--body-->
                    </div>
                </div>
            </div><!-- row -->
			<div class="row">
				<div class="col-md-offset-2 col-md-8 col-md-offset-2">
					<div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title">Refrigerator</h3>
                        </div>
                        <div class="panel-body">
								<div class="form-group">
									<img src="assets/img/fridge.png" width="200" height="150"></img>
								</div>
								<!--div class="form-group">
										<label for="company" class="col-sm-6 control-label">Power:</label>
										<div class="col-sm-6">
										<input type="checkbox" name="my-checkbox" class="machine" id="coffee" data-off-color="danger" data-on-color="success" disabled />
										</div>
								</div>
								<div class="form-group">
										<label for="company" class="col-sm-6 control-label">Temperature:</label>
										<div class="col-sm-6">
										<label for="company" class="col-sm-6 control-label">TBD</label>
										</div>
								</div-->
								<div class="form-group">
										<label for="company" class="col-sm-6 control-label">Milk Level:</label>
										<div class="col-sm-6">
											<div class="progress">
															<div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width:70%">
															<span class="sr-only">70% Complete</span>
														</div>
										<!--label for="company" class="col-sm-6 control-label">TBD</label-->
										</div>
								</div>
								<div class="form-group">
										<label for="company" class="col-sm-2 control-label">Food Freshness:</label>
										<div class="col-sm-10">
											<table class="table table striped">
												<tr><td>Items</td>
													<td>Freshness Meter</td>
													<td>Expiry Meter</td>
												</tr>
												<tr>
													<td>Produce</td>
													<td><textarea id="produce" disabled></textarea></td>
													<td>
														<div class="progress">
															<div class="progress-bar progress-bar-warning"  id="produceBar" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="21" style="">1 day
														</div></div>
													</td>
												</tr>
												<tr>
													<td>Eggs</td>
													<td><textarea id="eggs" disabled></textarea></td>
													<td>
														<div class="progress">
															<div class="progress-bar progress-bar-warning"  id="eggsBar" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="15" style="">1 day
														</div></div>
													</td>
												</tr>
												<tr>
													<td>Meat</td>
													<td><textarea id="meat" disabled></textarea></td>
													<td>
														<div class="progress">
															<div class="progress-bar progress-bar-warning"  id="meatBar" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="7" style="">1 day
														</div></div>
													</td>
												</tr>
											</table>
										<!--label for="company" class="col-sm-6 control-label">TBD</label-->
										</div>
								</div>
                        </div><!-- body-->
                    </div>
				</div>
			</div>
	
    </div> 
</div>
</body>
<script>
	$(".machine").bootstrapSwitch();
	// Fridge Section 
		var produceFreshness = Math.floor(Math.random() * 17);
		var eggsFreshness = Math.floor(Math.random() * 23);
		var meatFreshness = Math.floor(Math.random() * 9);
		console.log(produceFreshness);
		
		var produceLife = 15;
		var eggsLife = 21;
		var meatLife = 7;

		var produceExpiry = exp(produceFreshness, produceLife);
		var eggsExpiry = exp(eggsFreshness, eggsLife);
		var meatExpiry = exp(meatFreshness, meatLife);
		
		function exp(currentFreshness, shelfLife){
			if(currentFreshness == 0){
				var send = 0;
			} else if(currentFreshness < shelfLife){
				send = shelfLife - currentFreshness;
			} else if(currentFreshness == shelfLife+1){
				send = shelfLife+1;
			} else{
				send = shelfLife;
			}
			return send;
		}
		
		$(document).ready(function() {
		
		var produceId = "#produceBar";
		test(produceLife, produceExpiry, produceId);
		var eggsId = "#eggsBar";
		test(eggsLife, eggsExpiry, eggsId);
		var meatId = "#meatBar";
		test(meatLife, meatExpiry, meatId);
			
		function test(shelfLife, expiryDay, progId){
			var pct_left = (expiryDay/shelfLife) * 100;
			var fullWidth = 100
			if (expiryDay == 0) {
				$(progId).removeClass("progress-bar-warning");
				$(progId).addClass("progress-bar-success");
				$(progId).text("Super Fresh");
				$(progId).css("width", fullWidth + "%");
				$(progId).attr("aria-valuenow", fullWidth + "%");
				
			} else if (expiryDay == shelfLife + 1) {
				$(progId).removeClass("progress-bar-warning");
				$(progId).addClass("progress-bar-danger");	
				$(progId).text("Expired");
				$(progId).css("width", fullWidth + "%");
				$(progId).attr("aria-valuenow", fullWidth + "%");
			} else if (expiryDay == shelfLife) {	
				$(progId).text("Expired Today!");
				$(progId).css("width", fullWidth + "%");
				$(progId).attr("aria-valuenow", fullWidth + "%");
			} else{
				$(progId).text(" " + expiryDay + " days left");
				$(progId).css("width", pct_left + "%");
				$(progId).attr("aria-valuenow", pct_left + "%");
			}
		}
        });
</script>
</html>
